<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 8 Easily creating rxode2 events | rxode2 user manual</title>
  <meta name="description" content="This book is the user manual for rxode2" />
  <meta name="generator" content="bookdown 0.29 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 8 Easily creating rxode2 events | rxode2 user manual" />
  <meta property="og:type" content="book" />
  
  <meta property="og:description" content="This book is the user manual for rxode2" />
  <meta name="github-repo" content="nlmixr2/rxode2-manual" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 8 Easily creating rxode2 events | rxode2 user manual" />
  
  <meta name="twitter:description" content="This book is the user manual for rxode2" />
  

<meta name="author" content="Matthew Fidler, Melissa Hallow, Wenping Wang" />


<meta name="date" content="2022-11-07" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="events.html"/>
<link rel="next" href="solve.html"/>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<script src="libs/accessible-code-block-0.0.1/empty-anchor.js"></script>
<link href="libs/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.1.0/anchor-sections.js"></script>
<script src="libs/htmlwidgets-1.5.4/htmlwidgets.js"></script>
<link href="libs/datatables-css-0.0.0/datatables-crosstalk.css" rel="stylesheet" />
<script src="libs/datatables-binding-0.26/datatables.js"></script>
<link href="libs/dt-core-1.12.1/css/jquery.dataTables.min.css" rel="stylesheet" />
<link href="libs/dt-core-1.12.1/css/jquery.dataTables.extra.css" rel="stylesheet" />
<script src="libs/dt-core-1.12.1/js/jquery.dataTables.min.js"></script>
<link href="libs/nouislider-7.0.10/jquery.nouislider.min.css" rel="stylesheet" />
<script src="libs/nouislider-7.0.10/jquery.nouislider.min.js"></script>
<link href="libs/selectize-0.12.0/selectize.bootstrap3.css" rel="stylesheet" />
<script src="libs/selectize-0.12.0/selectize.min.js"></script>
<link href="libs/crosstalk-1.2.0/css/crosstalk.min.css" rel="stylesheet" />
<script src="libs/crosstalk-1.2.0/js/crosstalk.min.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Introduction</a></li>
<li class="chapter" data-level="2" data-path="author.html"><a href="author.html"><i class="fa fa-check"></i><b>2</b> Authors and Acknowledgments</a>
<ul>
<li class="chapter" data-level="2.1" data-path="author.html"><a href="author.html#authors"><i class="fa fa-check"></i><b>2.1</b> Authors</a></li>
<li class="chapter" data-level="2.2" data-path="author.html"><a href="author.html#contributors"><i class="fa fa-check"></i><b>2.2</b> Contributors</a></li>
<li class="chapter" data-level="2.3" data-path="author.html"><a href="author.html#rxode-acknowledgments"><i class="fa fa-check"></i><b>2.3</b> RxODE acknowledgments:</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="related.html"><a href="related.html"><i class="fa fa-check"></i><b>3</b> Related R packages</a>
<ul>
<li class="chapter" data-level="3.1" data-path="related.html"><a href="related.html#ode-solving"><i class="fa fa-check"></i><b>3.1</b> ODE solving</a></li>
<li class="chapter" data-level="3.2" data-path="related.html"><a href="related.html#pk-solved-systems"><i class="fa fa-check"></i><b>3.2</b> PK Solved systems</a>
<ul>
<li class="chapter" data-level="3.2.1" data-path="related.html"><a href="related.html#the-following-packages-for-solved-pk-systems-are-on-cran"><i class="fa fa-check"></i><b>3.2.1</b> The following packages for solved PK systems are on CRAN</a></li>
<li class="chapter" data-level="3.2.2" data-path="related.html"><a href="related.html#non-cran-libraries"><i class="fa fa-check"></i><b>3.2.2</b> Non-CRAN libraries:</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="4" data-path="install.html"><a href="install.html"><i class="fa fa-check"></i><b>4</b> Installation</a>
<ul>
<li class="chapter" data-level="4.0.1" data-path="install.html"><a href="install.html#windows"><i class="fa fa-check"></i><b>4.0.1</b> Windows</a></li>
<li class="chapter" data-level="4.0.2" data-path="install.html"><a href="install.html#mac-osx"><i class="fa fa-check"></i><b>4.0.2</b> Mac OSX</a></li>
<li class="chapter" data-level="4.0.3" data-path="install.html"><a href="install.html#linux"><i class="fa fa-check"></i><b>4.0.3</b> Linux</a></li>
<li class="chapter" data-level="4.1" data-path="install.html"><a href="install.html#development-version"><i class="fa fa-check"></i><b>4.1</b> Development Version</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="gettingStarted.html"><a href="gettingStarted.html"><i class="fa fa-check"></i><b>5</b> Getting Started</a>
<ul>
<li class="chapter" data-level="5.1" data-path="gettingStarted.html"><a href="gettingStarted.html#specify-ode-parameters-and-initial-conditions"><i class="fa fa-check"></i><b>5.1</b> Specify ODE parameters and initial conditions</a></li>
<li class="chapter" data-level="5.2" data-path="gettingStarted.html"><a href="gettingStarted.html#specify-dosing-and-sampling-in-rxode2"><i class="fa fa-check"></i><b>5.2</b> Specify Dosing and sampling in rxode2</a></li>
<li class="chapter" data-level="5.3" data-path="gettingStarted.html"><a href="gettingStarted.html#solving-odes"><i class="fa fa-check"></i><b>5.3</b> Solving ODEs</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="syntax.html"><a href="syntax.html"><i class="fa fa-check"></i><b>6</b> rxode2 syntax</a>
<ul>
<li class="chapter" data-level="6.1" data-path="syntax.html"><a href="syntax.html#example"><i class="fa fa-check"></i><b>6.1</b> Example</a></li>
<li class="chapter" data-level="6.2" data-path="syntax.html"><a href="syntax.html#syntax-1"><i class="fa fa-check"></i><b>6.2</b> Syntax</a>
<ul>
<li class="chapter" data-level="6.2.1" data-path="syntax.html"><a href="syntax.html#identifiers"><i class="fa fa-check"></i><b>6.2.1</b> Identifiers</a></li>
</ul></li>
<li class="chapter" data-level="6.3" data-path="syntax.html"><a href="syntax.html#logical-operators"><i class="fa fa-check"></i><b>6.3</b> Logical Operators</a></li>
<li class="chapter" data-level="6.4" data-path="syntax.html"><a href="syntax.html#cmt-changing-compartment-numbers-for-states"><i class="fa fa-check"></i><b>6.4</b> cmt() changing compartment numbers for states</a>
<ul>
<li class="chapter" data-level="6.4.1" data-path="syntax.html"><a href="syntax.html#how-rxode2-numbers-compartments"><i class="fa fa-check"></i><b>6.4.1</b> How rxode2 numbers compartments</a></li>
<li class="chapter" data-level="6.4.2" data-path="syntax.html"><a href="syntax.html#changing-compartments-by-pre-declaring-with-cmt"><i class="fa fa-check"></i><b>6.4.2</b> Changing compartments by pre-declaring with <code>cmt()</code></a></li>
<li class="chapter" data-level="6.4.3" data-path="syntax.html"><a href="syntax.html#appending-compartments-to-the-model-with-cmt"><i class="fa fa-check"></i><b>6.4.3</b> Appending compartments to the model with <code>cmt()</code></a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="7" data-path="events.html"><a href="events.html"><i class="fa fa-check"></i><b>7</b> rxode2 events</a>
<ul>
<li class="chapter" data-level="7.1" data-path="events.html"><a href="events.html#rxode2-event-tables"><i class="fa fa-check"></i><b>7.1</b> rxode2 event tables</a></li>
<li class="chapter" data-level="7.2" data-path="events.html"><a href="events.html#bolusadditive-doses"><i class="fa fa-check"></i><b>7.2</b> Bolus/Additive Doses</a></li>
<li class="chapter" data-level="7.3" data-path="events.html"><a href="events.html#infusion-doses"><i class="fa fa-check"></i><b>7.3</b> Infusion Doses</a>
<ul>
<li class="chapter" data-level="7.3.1" data-path="events.html"><a href="events.html#constant-infusion-in-terms-of-duration-and-rate"><i class="fa fa-check"></i><b>7.3.1</b> Constant Infusion (in terms of duration and rate)</a></li>
<li class="chapter" data-level="7.3.2" data-path="events.html"><a href="events.html#modeled-rate-and-duration-of-infusion"><i class="fa fa-check"></i><b>7.3.2</b> Modeled Rate and Duration of Infusion</a></li>
</ul></li>
<li class="chapter" data-level="7.4" data-path="events.html"><a href="events.html#steady-state"><i class="fa fa-check"></i><b>7.4</b> Steady State</a>
<ul>
<li class="chapter" data-level="7.4.1" data-path="events.html"><a href="events.html#steady-state-for-complex-dosing"><i class="fa fa-check"></i><b>7.4.1</b> Steady state for complex dosing</a></li>
<li class="chapter" data-level="7.4.2" data-path="events.html"><a href="events.html#steady-state-for-constant-infusion-or-zero-order-processes"><i class="fa fa-check"></i><b>7.4.2</b> Steady state for constant infusion or zero order processes</a></li>
</ul></li>
<li class="chapter" data-level="7.5" data-path="events.html"><a href="events.html#reset-events"><i class="fa fa-check"></i><b>7.5</b> Reset Events</a></li>
<li class="chapter" data-level="7.6" data-path="events.html"><a href="events.html#turning-off-compartments"><i class="fa fa-check"></i><b>7.6</b> Turning off compartments</a></li>
<li class="chapter" data-level="7.7" data-path="events.html"><a href="events.html#classic-et"><i class="fa fa-check"></i><b>7.7</b> Classic rxode2 events</a>
<ul>
<li class="chapter" data-level="7.7.1" data-path="events.html"><a href="events.html#bolus-dose-examples"><i class="fa fa-check"></i><b>7.7.1</b> Bolus Dose Examples</a></li>
<li class="chapter" data-level="7.7.2" data-path="events.html"><a href="events.html#infusion-event-examples"><i class="fa fa-check"></i><b>7.7.2</b> Infusion Event Examples</a></li>
<li class="chapter" data-level="7.7.3" data-path="events.html"><a href="events.html#steady-state-for-classic-rxode-evid-example"><i class="fa fa-check"></i><b>7.7.3</b> Steady State for classic RxODE EVID example</a></li>
<li class="chapter" data-level="7.7.4" data-path="events.html"><a href="events.html#turning-off-a-compartment-with-classic-rxode-evid"><i class="fa fa-check"></i><b>7.7.4</b> Turning off a compartment with classic RxODE EVID</a></li>
</ul></li>
<li class="chapter" data-level="7.8" data-path="events.html"><a href="events.html#datasets-for-rxode2-nlmixr"><i class="fa fa-check"></i><b>7.8</b> Datasets for rxode2 &amp; nlmixr</a></li>
<li class="chapter" data-level="7.9" data-path="events.html"><a href="events.html#columns-described-by-type-of-use"><i class="fa fa-check"></i><b>7.9</b> Columns Described by Type of Use</a>
<ul>
<li class="chapter" data-level="7.9.1" data-path="events.html"><a href="events.html#subject-identification-columns"><i class="fa fa-check"></i><b>7.9.1</b> Subject Identification Columns</a></li>
<li class="chapter" data-level="7.9.2" data-path="events.html"><a href="events.html#observation-columns"><i class="fa fa-check"></i><b>7.9.2</b> Observation Columns</a></li>
<li class="chapter" data-level="7.9.3" data-path="events.html"><a href="events.html#dosing-columns"><i class="fa fa-check"></i><b>7.9.3</b> Dosing Columns</a></li>
<li class="chapter" data-level="7.9.4" data-path="events.html"><a href="events.html#covariate-columns"><i class="fa fa-check"></i><b>7.9.4</b> Covariate Columns</a></li>
</ul></li>
<li class="chapter" data-level="7.10" data-path="events.html"><a href="events.html#details-for-specific-dataset-columns"><i class="fa fa-check"></i><b>7.10</b> Details for Specific Dataset Columns</a>
<ul>
<li class="chapter" data-level="7.10.1" data-path="events.html"><a href="events.html#amt-column"><i class="fa fa-check"></i><b>7.10.1</b> <code>AMT</code> Column</a></li>
<li class="chapter" data-level="7.10.2" data-path="events.html"><a href="events.html#censlimit-columns"><i class="fa fa-check"></i><b>7.10.2</b> <code>CENS</code>/<code>LIMIT</code> Columns</a></li>
<li class="chapter" data-level="7.10.3" data-path="events.html"><a href="events.html#cmt-column"><i class="fa fa-check"></i><b>7.10.3</b> <code>CMT</code> Column</a></li>
<li class="chapter" data-level="7.10.4" data-path="events.html"><a href="events.html#dur-column"><i class="fa fa-check"></i><b>7.10.4</b> <code>DUR</code> Column</a></li>
<li class="chapter" data-level="7.10.5" data-path="events.html"><a href="events.html#dv-column"><i class="fa fa-check"></i><b>7.10.5</b> <code>DV</code> Column</a></li>
<li class="chapter" data-level="7.10.6" data-path="events.html"><a href="events.html#dvid-column"><i class="fa fa-check"></i><b>7.10.6</b> <code>DVID</code> Column</a></li>
<li class="chapter" data-level="7.10.7" data-path="events.html"><a href="events.html#evid-column"><i class="fa fa-check"></i><b>7.10.7</b> <code>EVID</code> Column</a></li>
<li class="chapter" data-level="7.10.8" data-path="events.html"><a href="events.html#id-column"><i class="fa fa-check"></i><b>7.10.8</b> <code>ID</code> Column</a></li>
<li class="chapter" data-level="7.10.9" data-path="events.html"><a href="events.html#rate-column"><i class="fa fa-check"></i><b>7.10.9</b> <code>RATE</code> Column</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="8" data-path="et.html"><a href="et.html"><i class="fa fa-check"></i><b>8</b> Easily creating rxode2 events</a>
<ul>
<li class="chapter" data-level="8.1" data-path="et.html"><a href="et.html#adding-doses-to-the-event-table"><i class="fa fa-check"></i><b>8.1</b> Adding doses to the event table</a></li>
<li class="chapter" data-level="8.2" data-path="et.html"><a href="et.html#adding-sampling-to-an-event-table"><i class="fa fa-check"></i><b>8.2</b> Adding sampling to an event table</a></li>
<li class="chapter" data-level="8.3" data-path="et.html"><a href="et.html#expand-the-event-table-to-a-multi-subject-event-table."><i class="fa fa-check"></i><b>8.3</b> Expand the event table to a multi-subject event table.</a></li>
<li class="chapter" data-level="8.4" data-path="et.html"><a href="et.html#add-doses-and-samples-within-a-sampling-window"><i class="fa fa-check"></i><b>8.4</b> Add doses and samples within a sampling window</a></li>
<li class="chapter" data-level="8.5" data-path="et.html"><a href="et.html#combining-event-tables"><i class="fa fa-check"></i><b>8.5</b> Combining event tables</a></li>
<li class="chapter" data-level="8.6" data-path="et.html"><a href="et.html#sequencing-event-tables"><i class="fa fa-check"></i><b>8.6</b> Sequencing event tables</a></li>
<li class="chapter" data-level="8.7" data-path="et.html"><a href="et.html#repeating-event-tables"><i class="fa fa-check"></i><b>8.7</b> Repeating event tables</a></li>
<li class="chapter" data-level="8.8" data-path="et.html"><a href="et.html#combining-event-tables-with-rbind"><i class="fa fa-check"></i><b>8.8</b> Combining event tables with rbind</a></li>
<li class="chapter" data-level="8.9" data-path="et.html"><a href="et.html#expanding-events"><i class="fa fa-check"></i><b>8.9</b> Expanding events</a></li>
<li class="chapter" data-level="8.10" data-path="et.html"><a href="et.html#event-tables-in-rstudio-notebooks"><i class="fa fa-check"></i><b>8.10</b> Event tables in Rstudio Notebooks</a></li>
</ul></li>
<li class="chapter" data-level="9" data-path="solve.html"><a href="solve.html"><i class="fa fa-check"></i><b>9</b> Solving and solving options</a>
<ul>
<li class="chapter" data-level="9.1" data-path="solve.html"><a href="solve.html#general-solving-options"><i class="fa fa-check"></i><b>9.1</b> General Solving Options</a>
<ul>
<li class="chapter" data-level="9.1.1" data-path="solve.html"><a href="solve.html#rxcontrol"><i class="fa fa-check"></i><b>9.1.1</b> rxControl</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="10" data-path="output.html"><a href="output.html"><i class="fa fa-check"></i><b>10</b> rxode2 output</a>
<ul>
<li class="chapter" data-level="10.1" data-path="output.html"><a href="output.html#using-rxode2-data-frames"><i class="fa fa-check"></i><b>10.1</b> Using rxode2 data frames</a>
<ul>
<li class="chapter" data-level="10.1.1" data-path="output.html"><a href="output.html#creating-an-interactive-data-frame"><i class="fa fa-check"></i><b>10.1.1</b> Creating an interactive data frame</a></li>
<li class="chapter" data-level="10.1.2" data-path="output.html"><a href="output.html#rxode2-solved-object-properties"><i class="fa fa-check"></i><b>10.1.2</b> rxode2 solved object properties</a></li>
<li class="chapter" data-level="10.1.3" data-path="output.html"><a href="output.html#using-the-solved-object-as-a-simple-data-frame"><i class="fa fa-check"></i><b>10.1.3</b> Using the solved object as a simple data frame</a></li>
</ul></li>
<li class="chapter" data-level="10.2" data-path="output.html"><a href="output.html#updating-the-data-set-interactively"><i class="fa fa-check"></i><b>10.2</b> Updating the data-set interactively</a>
<ul>
<li class="chapter" data-level="10.2.1" data-path="output.html"><a href="output.html#modifying-initial-conditions"><i class="fa fa-check"></i><b>10.2.1</b> Modifying initial conditions</a></li>
<li class="chapter" data-level="10.2.2" data-path="output.html"><a href="output.html#modifying-observation-times-for-rxode2"><i class="fa fa-check"></i><b>10.2.2</b> Modifying observation times for rxode2</a></li>
<li class="chapter" data-level="10.2.3" data-path="output.html"><a href="output.html#modifying-simulation-parameters"><i class="fa fa-check"></i><b>10.2.3</b> Modifying simulation parameters</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="11" data-path="simulation.html"><a href="simulation.html"><i class="fa fa-check"></i><b>11</b> Simulation</a>
<ul>
<li class="chapter" data-level="11.1" data-path="simulation.html"><a href="simulation.html#single-subject-solving"><i class="fa fa-check"></i><b>11.1</b> Single Subject solving</a>
<ul>
<li class="chapter" data-level="11.1.1" data-path="simulation.html"><a href="simulation.html#summary-of-single-solve-vs-multiple-subject-solving"><i class="fa fa-check"></i><b>11.1.1</b> Summary of Single solve vs Multiple subject solving</a></li>
</ul></li>
<li class="chapter" data-level="11.2" data-path="simulation.html"><a href="simulation.html#population-simulations-with-rxode2"><i class="fa fa-check"></i><b>11.2</b> Population Simulations with rxode2</a>
<ul>
<li class="chapter" data-level="11.2.1" data-path="simulation.html"><a href="simulation.html#simulation-of-variability-with-rxode2"><i class="fa fa-check"></i><b>11.2.1</b> Simulation of Variability with rxode2</a></li>
</ul></li>
<li class="chapter" data-level="11.3" data-path="simulation.html"><a href="simulation.html#simulation-of-clinical-trials"><i class="fa fa-check"></i><b>11.3</b> Simulation of Clinical Trials</a>
<ul>
<li class="chapter" data-level="11.3.1" data-path="simulation.html"><a href="simulation.html#simulation-from-inverse-wishart-correlations"><i class="fa fa-check"></i><b>11.3.1</b> Simulation from inverse Wishart correlations</a></li>
<li class="chapter" data-level="11.3.2" data-path="simulation.html"><a href="simulation.html#simulate-using-variancestandard-deviation-standard-errors"><i class="fa fa-check"></i><b>11.3.2</b> Simulate using variance/standard deviation standard errors</a></li>
<li class="chapter" data-level="11.3.3" data-path="simulation.html"><a href="simulation.html#simulate-without-uncertainty-in-omega-or-sigma-parameters"><i class="fa fa-check"></i><b>11.3.3</b> Simulate without uncertainty in <code>omega</code> or <code>sigma</code> parameters</a></li>
</ul></li>
<li class="chapter" data-level="11.4" data-path="simulation.html"><a href="simulation.html#using-prior-data-for-solving"><i class="fa fa-check"></i><b>11.4</b> Using prior data for solving</a></li>
</ul></li>
<li class="chapter" data-level="12" data-path="examples.html"><a href="examples.html"><i class="fa fa-check"></i><b>12</b> Examples</a>
<ul>
<li class="chapter" data-level="12.1" data-path="examples.html"><a href="examples.html#prediction-only-models"><i class="fa fa-check"></i><b>12.1</b> Prediction only models</a></li>
<li class="chapter" data-level="12.2" data-path="examples.html"><a href="examples.html#solved-compartment-models"><i class="fa fa-check"></i><b>12.2</b> Solved compartment models</a></li>
<li class="chapter" data-level="12.3" data-path="examples.html"><a href="examples.html#mixing-solved-systems-and-odes"><i class="fa fa-check"></i><b>12.3</b> Mixing Solved Systems and ODEs</a></li>
<li class="chapter" data-level="12.4" data-path="examples.html"><a href="examples.html#weight-based-dosing"><i class="fa fa-check"></i><b>12.4</b> Weight based dosing</a>
<ul>
<li class="chapter" data-level="12.4.1" data-path="examples.html"><a href="examples.html#creating-a-2-compartment-model-in-rxode2"><i class="fa fa-check"></i><b>12.4.1</b> Creating a 2-compartment model in rxode2</a></li>
<li class="chapter" data-level="12.4.2" data-path="examples.html"><a href="examples.html#simulating-covariates"><i class="fa fa-check"></i><b>12.4.2</b> Simulating Covariates</a></li>
<li class="chapter" data-level="12.4.3" data-path="examples.html"><a href="examples.html#creating-weight-based-event-table"><i class="fa fa-check"></i><b>12.4.3</b> Creating weight based event table</a></li>
<li class="chapter" data-level="12.4.4" data-path="examples.html"><a href="examples.html#solving-daptomycin-simulation"><i class="fa fa-check"></i><b>12.4.4</b> Solving Daptomycin simulation</a></li>
<li class="chapter" data-level="12.4.5" data-path="examples.html"><a href="examples.html#daptomycin-reference"><i class="fa fa-check"></i><b>12.4.5</b> Daptomycin Reference</a></li>
</ul></li>
<li class="chapter" data-level="12.5" data-path="examples.html"><a href="examples.html#inter-occasion-and-other-nesting-examples"><i class="fa fa-check"></i><b>12.5</b> Inter-occasion and other nesting examples</a>
<ul>
<li class="chapter" data-level="12.5.1" data-path="examples.html"><a href="examples.html#event-table"><i class="fa fa-check"></i><b>12.5.1</b> Event table</a></li>
<li class="chapter" data-level="12.5.2" data-path="examples.html"><a href="examples.html#rxode2-model"><i class="fa fa-check"></i><b>12.5.2</b> rxode2 model</a></li>
<li class="chapter" data-level="12.5.3" data-path="examples.html"><a href="examples.html#uncertainty-in-model-parameters"><i class="fa fa-check"></i><b>12.5.3</b> Uncertainty in Model parameters</a></li>
<li class="chapter" data-level="12.5.4" data-path="examples.html"><a href="examples.html#nesting-variability"><i class="fa fa-check"></i><b>12.5.4</b> Nesting Variability</a></li>
<li class="chapter" data-level="12.5.5" data-path="examples.html"><a href="examples.html#unexplained-variability"><i class="fa fa-check"></i><b>12.5.5</b> Unexplained variability</a></li>
<li class="chapter" data-level="12.5.6" data-path="examples.html"><a href="examples.html#solving-the-problem"><i class="fa fa-check"></i><b>12.5.6</b> Solving the problem</a></li>
</ul></li>
<li class="chapter" data-level="12.6" data-path="examples.html"><a href="examples.html#transit-compartment-models"><i class="fa fa-check"></i><b>12.6</b> Transit compartment models</a></li>
</ul></li>
<li class="chapter" data-level="13" data-path="advanced-miscellaneous-topics.html"><a href="advanced-miscellaneous-topics.html"><i class="fa fa-check"></i><b>13</b> Advanced &amp; Miscellaneous Topics</a>
<ul>
<li class="chapter" data-level="13.1" data-path="advanced-miscellaneous-topics.html"><a href="advanced-miscellaneous-topics.html#covariates-in-rxode2"><i class="fa fa-check"></i><b>13.1</b> Covariates in rxode2</a>
<ul>
<li class="chapter" data-level="13.1.1" data-path="advanced-miscellaneous-topics.html"><a href="advanced-miscellaneous-topics.html#individual-covariates"><i class="fa fa-check"></i><b>13.1.1</b> Individual Covariates</a></li>
<li class="chapter" data-level="13.1.2" data-path="advanced-miscellaneous-topics.html"><a href="advanced-miscellaneous-topics.html#time-varying-covariates"><i class="fa fa-check"></i><b>13.1.2</b> Time Varying Covariates</a></li>
</ul></li>
<li class="chapter" data-level="13.2" data-path="advanced-miscellaneous-topics.html"><a href="advanced-miscellaneous-topics.html#shiny-and-rxode2"><i class="fa fa-check"></i><b>13.2</b> Shiny and rxode2</a>
<ul>
<li class="chapter" data-level="13.2.1" data-path="advanced-miscellaneous-topics.html"><a href="advanced-miscellaneous-topics.html#facilities-for-generating-r-shiny-applications"><i class="fa fa-check"></i><b>13.2.1</b> Facilities for generating R shiny applications</a></li>
<li class="chapter" data-level="13.2.2" data-path="advanced-miscellaneous-topics.html"><a href="advanced-miscellaneous-topics.html#exploring-parameter-fits-graphically-using-shiny"><i class="fa fa-check"></i><b>13.2.2</b> Exploring parameter fits graphically using shiny</a></li>
</ul></li>
<li class="chapter" data-level="13.3" data-path="advanced-miscellaneous-topics.html"><a href="advanced-miscellaneous-topics.html#using-rxode2-with-a-pipeline"><i class="fa fa-check"></i><b>13.3</b> Using rxode2 with a pipeline</a>
<ul>
<li class="chapter" data-level="13.3.1" data-path="advanced-miscellaneous-topics.html"><a href="advanced-miscellaneous-topics.html#setting-up-the-rxode2-model-for-the-pipeline"><i class="fa fa-check"></i><b>13.3.1</b> Setting up the rxode2 model for the pipeline</a></li>
<li class="chapter" data-level="13.3.2" data-path="advanced-miscellaneous-topics.html"><a href="advanced-miscellaneous-topics.html#simulating-one-event-table"><i class="fa fa-check"></i><b>13.3.2</b> Simulating one event table</a></li>
<li class="chapter" data-level="13.3.3" data-path="advanced-miscellaneous-topics.html"><a href="advanced-miscellaneous-topics.html#simulating-multiple-subjects-from-a-single-event-table"><i class="fa fa-check"></i><b>13.3.3</b> Simulating multiple subjects from a single event table</a></li>
<li class="chapter" data-level="13.3.4" data-path="advanced-miscellaneous-topics.html"><a href="advanced-miscellaneous-topics.html#summarizing-the-simulation-output"><i class="fa fa-check"></i><b>13.3.4</b> Summarizing the simulation output</a></li>
</ul></li>
<li class="chapter" data-level="13.4" data-path="advanced-miscellaneous-topics.html"><a href="advanced-miscellaneous-topics.html#speeding-up-rxode2"><i class="fa fa-check"></i><b>13.4</b> Speeding up rxode2</a>
<ul>
<li class="chapter" data-level="13.4.1" data-path="advanced-miscellaneous-topics.html"><a href="advanced-miscellaneous-topics.html#increasing-rxode2-speed-by-multi-subject-parallel-solving"><i class="fa fa-check"></i><b>13.4.1</b> Increasing rxode2 speed by multi-subject parallel solving</a></li>
<li class="chapter" data-level="13.4.2" data-path="advanced-miscellaneous-topics.html"><a href="advanced-miscellaneous-topics.html#a-real-life-example"><i class="fa fa-check"></i><b>13.4.2</b> A real life example</a></li>
</ul></li>
<li class="chapter" data-level="13.5" data-path="advanced-miscellaneous-topics.html"><a href="advanced-miscellaneous-topics.html#integrating-rxode2-models-in-your-package"><i class="fa fa-check"></i><b>13.5</b> Integrating rxode2 models in your package</a>
<ul>
<li class="chapter" data-level="13.5.1" data-path="advanced-miscellaneous-topics.html"><a href="advanced-miscellaneous-topics.html#using-pre-compiled-models-in-your-packages"><i class="fa fa-check"></i><b>13.5.1</b> Using Pre-compiled models in your packages</a></li>
<li class="chapter" data-level="13.5.2" data-path="advanced-miscellaneous-topics.html"><a href="advanced-miscellaneous-topics.html#using-models-in-a-already-present-package"><i class="fa fa-check"></i><b>13.5.2</b> Using Models in a already present package</a></li>
</ul></li>
<li class="chapter" data-level="13.6" data-path="advanced-miscellaneous-topics.html"><a href="advanced-miscellaneous-topics.html#stiff-odes-with-jacobian-specification"><i class="fa fa-check"></i><b>13.6</b> Stiff ODEs with Jacobian Specification</a></li>
</ul></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">rxode2 user manual</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="et" class="section level1 hasAnchor" number="8">
<h1><span class="header-section-number">Chapter 8</span> Easily creating rxode2 events<a href="et.html#et" class="anchor-section" aria-label="Anchor link to header"></a></h1>
<p>An event table in rxode2 is a specialized data frame that acts as a
container for all of rxode2’s events and observation times.</p>
<p>To create an rxode2 event table you may use the code <code>eventTable()</code>,
<code>et()</code>, or even create your own data frame with the right event
information contained in it. This is closely related to the <a href="events.html#events">types of
events that rxode2 supports</a>.</p>
<div class="sourceCode" id="cb77"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb77-1"><a href="et.html#cb77-1" aria-hidden="true"></a><span class="kw">library</span>(rxode2)</span>
<span id="cb77-2"><a href="et.html#cb77-2" aria-hidden="true"></a><span class="kw">library</span>(units)</span></code></pre></div>
<pre><code>#&gt; udunits database from /usr/share/xml/udunits/udunits2.xml</code></pre>
<div class="sourceCode" id="cb79"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb79-1"><a href="et.html#cb79-1" aria-hidden="true"></a>(ev &lt;-<span class="st"> </span><span class="kw">eventTable</span>())</span></code></pre></div>
<pre><code>#&gt; ── EventTable with 0 records ──
#&gt; 0 dosing records (see x$get.dosing(); add with add.dosing
#&gt; or et)
#&gt; 0 observation times (see x$get.sampling(); add with
#&gt; add.sampling or et)</code></pre>
<p>or</p>
<div class="sourceCode" id="cb81"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb81-1"><a href="et.html#cb81-1" aria-hidden="true"></a>(ev &lt;-<span class="st"> </span><span class="kw">et</span>())</span></code></pre></div>
<pre><code>#&gt; ── EventTable with 0 records ──
#&gt; 0 dosing records (see x$get.dosing(); add with add.dosing
#&gt; or et)
#&gt; 0 observation times (see x$get.sampling(); add with
#&gt; add.sampling or et)</code></pre>
<p>With this event table you can add sampling/observations or doses by
piping or direct access.</p>
<p>This is a short table of the two main functions to create dosing</p>
<table>
<thead>
<tr class="header">
<th>add.dosing()</th>
<th>et()</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>dose</td>
<td>amt</td>
<td>Dose/Rate/Duration amount</td>
</tr>
<tr class="even">
<td>nbr.doses</td>
<td>addl</td>
<td>Additional doses or number of doses</td>
</tr>
<tr class="odd">
<td>dosing.interval</td>
<td>ii</td>
<td>Dosing Interval</td>
</tr>
<tr class="even">
<td>dosing.to</td>
<td>cmt</td>
<td>Dosing Compartment</td>
</tr>
<tr class="odd">
<td>rate</td>
<td>rate</td>
<td>Infusion rate</td>
</tr>
<tr class="even">
<td>start.time</td>
<td>time</td>
<td>Dosing start time</td>
</tr>
<tr class="odd">
<td></td>
<td>dur</td>
<td>Infusion Duration</td>
</tr>
</tbody>
</table>
<p>Sampling times can be added with <code>add.sampling(</code> sampling times <code>)</code> or
<code>et(</code> sampling times <code>)</code>. <a href="et.html#add-doses-and-samples-within-a-sampling-window">Dosing intervals and sampling
windows</a> are also
supported.</p>
<p>For these models, we can illustrate by using the model shared in the
rxode2 tutorial:</p>
<div class="sourceCode" id="cb83"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb83-1"><a href="et.html#cb83-1" aria-hidden="true"></a><span class="co">## Model from rxode2 tutorial</span></span>
<span id="cb83-2"><a href="et.html#cb83-2" aria-hidden="true"></a>m1 &lt;-<span class="kw">rxode2</span>({</span>
<span id="cb83-3"><a href="et.html#cb83-3" aria-hidden="true"></a>    KA=<span class="fl">2.94E-01</span>;</span>
<span id="cb83-4"><a href="et.html#cb83-4" aria-hidden="true"></a>    CL=<span class="fl">1.86E+01</span>;</span>
<span id="cb83-5"><a href="et.html#cb83-5" aria-hidden="true"></a>    V2=<span class="fl">4.02E+01</span>;</span>
<span id="cb83-6"><a href="et.html#cb83-6" aria-hidden="true"></a>    Q=<span class="fl">1.05E+01</span>;</span>
<span id="cb83-7"><a href="et.html#cb83-7" aria-hidden="true"></a>    V3=<span class="fl">2.97E+02</span>;</span>
<span id="cb83-8"><a href="et.html#cb83-8" aria-hidden="true"></a>    Kin=<span class="dv">1</span>;</span>
<span id="cb83-9"><a href="et.html#cb83-9" aria-hidden="true"></a>    Kout=<span class="dv">1</span>;</span>
<span id="cb83-10"><a href="et.html#cb83-10" aria-hidden="true"></a>    EC50=<span class="dv">200</span>;</span>
<span id="cb83-11"><a href="et.html#cb83-11" aria-hidden="true"></a>    <span class="co">## Added modeled bioavaiblity, duration and rate</span></span>
<span id="cb83-12"><a href="et.html#cb83-12" aria-hidden="true"></a>    fdepot =<span class="st"> </span><span class="dv">1</span>;</span>
<span id="cb83-13"><a href="et.html#cb83-13" aria-hidden="true"></a>    durDepot =<span class="st"> </span><span class="dv">8</span>;</span>
<span id="cb83-14"><a href="et.html#cb83-14" aria-hidden="true"></a>    rateDepot =<span class="st"> </span><span class="dv">1250</span>;</span>
<span id="cb83-15"><a href="et.html#cb83-15" aria-hidden="true"></a>    C2 =<span class="st"> </span>centr<span class="op">/</span>V2;</span>
<span id="cb83-16"><a href="et.html#cb83-16" aria-hidden="true"></a>    C3 =<span class="st"> </span>peri<span class="op">/</span>V3;</span>
<span id="cb83-17"><a href="et.html#cb83-17" aria-hidden="true"></a>    d<span class="op">/</span><span class="kw">dt</span>(depot) =<span class="op">-</span>KA<span class="op">*</span>depot;</span>
<span id="cb83-18"><a href="et.html#cb83-18" aria-hidden="true"></a>    <span class="kw">f</span>(depot) =<span class="st"> </span>fdepot</span>
<span id="cb83-19"><a href="et.html#cb83-19" aria-hidden="true"></a>    <span class="kw">dur</span>(depot) =<span class="st"> </span>durDepot</span>
<span id="cb83-20"><a href="et.html#cb83-20" aria-hidden="true"></a>    <span class="kw">rate</span>(depot) =<span class="st"> </span>rateDepot</span>
<span id="cb83-21"><a href="et.html#cb83-21" aria-hidden="true"></a>    d<span class="op">/</span><span class="kw">dt</span>(centr) =<span class="st"> </span>KA<span class="op">*</span>depot <span class="op">-</span><span class="st"> </span>CL<span class="op">*</span>C2 <span class="op">-</span><span class="st"> </span>Q<span class="op">*</span>C2 <span class="op">+</span><span class="st"> </span>Q<span class="op">*</span>C3;</span>
<span id="cb83-22"><a href="et.html#cb83-22" aria-hidden="true"></a>    d<span class="op">/</span><span class="kw">dt</span>(peri)  =<span class="st">                    </span>Q<span class="op">*</span>C2 <span class="op">-</span><span class="st"> </span>Q<span class="op">*</span>C3;</span>
<span id="cb83-23"><a href="et.html#cb83-23" aria-hidden="true"></a>    d<span class="op">/</span><span class="kw">dt</span>(eff)  =<span class="st"> </span>Kin <span class="op">-</span><span class="st"> </span>Kout<span class="op">*</span>(<span class="dv">1</span><span class="op">-</span>C2<span class="op">/</span>(EC50<span class="op">+</span>C2))<span class="op">*</span>eff;</span>
<span id="cb83-24"><a href="et.html#cb83-24" aria-hidden="true"></a>    <span class="kw">eff</span>(<span class="dv">0</span>) =<span class="st"> </span><span class="dv">1</span></span>
<span id="cb83-25"><a href="et.html#cb83-25" aria-hidden="true"></a>})</span></code></pre></div>
<div id="adding-doses-to-the-event-table" class="section level2 hasAnchor" number="8.1">
<h2><span class="header-section-number">8.1</span> Adding doses to the event table<a href="et.html#adding-doses-to-the-event-table" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Once created you can add dosing to the event table by the
<code>add.dosing()</code>, and <code>et()</code> functions.</p>
<p>Using the <code>add.dosing()</code> function you have:</p>
<table>
<thead>
<tr class="header">
<th>argument</th>
<th>meaning</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>dose</td>
<td>dose amount</td>
</tr>
<tr class="even">
<td>nbr.doses</td>
<td>Number of doses; Should be at least 1.</td>
</tr>
<tr class="odd">
<td>dosing.interval</td>
<td>Dosing interval; By default this is 24.</td>
</tr>
<tr class="even">
<td>dosing.to</td>
<td>Compartment where dose is administered.</td>
</tr>
<tr class="odd">
<td>rate</td>
<td>Infusion rate</td>
</tr>
<tr class="even">
<td>start.time</td>
<td>The start time of the dose</td>
</tr>
</tbody>
</table>
<div class="sourceCode" id="cb84"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb84-1"><a href="et.html#cb84-1" aria-hidden="true"></a>ev &lt;-<span class="st"> </span><span class="kw">eventTable</span>(<span class="dt">amount.units=</span><span class="st">&quot;mg&quot;</span>, <span class="dt">time.units=</span><span class="st">&quot;hr&quot;</span>)</span>
<span id="cb84-2"><a href="et.html#cb84-2" aria-hidden="true"></a></span>
<span id="cb84-3"><a href="et.html#cb84-3" aria-hidden="true"></a><span class="co">## The methods ar attached to the event table, so you can use </span></span>
<span id="cb84-4"><a href="et.html#cb84-4" aria-hidden="true"></a><span class="co">## them directly</span></span>
<span id="cb84-5"><a href="et.html#cb84-5" aria-hidden="true"></a>ev<span class="op">$</span><span class="kw">add.dosing</span>(<span class="dt">dose=</span><span class="dv">10000</span>, <span class="dt">nbr.doses =</span> <span class="dv">3</span>)<span class="co"># loading doses</span></span>
<span id="cb84-6"><a href="et.html#cb84-6" aria-hidden="true"></a><span class="co">## Starts at time 0; Default dosing interval is 24</span></span>
<span id="cb84-7"><a href="et.html#cb84-7" aria-hidden="true"></a></span>
<span id="cb84-8"><a href="et.html#cb84-8" aria-hidden="true"></a><span class="co">## You can also pipe the event tables to these methods.</span></span>
<span id="cb84-9"><a href="et.html#cb84-9" aria-hidden="true"></a>ev &lt;-<span class="st"> </span>ev <span class="op">%&gt;%</span></span>
<span id="cb84-10"><a href="et.html#cb84-10" aria-hidden="true"></a><span class="st">  </span><span class="kw">add.dosing</span>(<span class="dt">dose=</span><span class="dv">5000</span>, <span class="dt">nbr.doses=</span><span class="dv">14</span>,</span>
<span id="cb84-11"><a href="et.html#cb84-11" aria-hidden="true"></a>             <span class="dt">dosing.interval=</span><span class="dv">12</span>)<span class="co"># maintenance</span></span>
<span id="cb84-12"><a href="et.html#cb84-12" aria-hidden="true"></a></span>
<span id="cb84-13"><a href="et.html#cb84-13" aria-hidden="true"></a>ev</span></code></pre></div>
<pre><code>#&gt; ── EventTable with 2 records ──
#&gt; 2 dosing records (see x$get.dosing(); add with add.dosing
#&gt; or et)
#&gt; 0 observation times (see x$get.sampling(); add with
#&gt; add.sampling or et)
#&gt; multiple doses in `addl` columns, expand with x$expand();
#&gt; or etExpand(x)
#&gt; ── First part of x: ──
#&gt; # A tibble: 2 × 5
#&gt;   time   amt  ii  addl evid        
#&gt;    [h]  [mg] [h] &lt;int&gt; &lt;evid&gt;      
#&gt; 1    0 10000  24     2 1:Dose (Add)
#&gt; 2    0  5000  12    13 1:Dose (Add)</code></pre>
<p>Notice that the units were specified in the table. When specified, the
units use the <code>units</code> package to keep track of the units and convert
them if needed. Additionally, <code>ggforce</code> uses them to label the
<code>ggplot</code> axes. The <code>set_units</code> and <code>drop_units</code> are useful to set and
drop the rxode2 event table units.</p>
<p>In this example, you can see the time axes is labeled:</p>
<div class="sourceCode" id="cb86"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb86-1"><a href="et.html#cb86-1" aria-hidden="true"></a><span class="kw">rxSolve</span>(m1, ev) <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">plot</span>(C2)</span></code></pre></div>
<p><img src="rxode2-manual_files/figure-html/unnamed-chunk-75-1.png" width="672" /></p>
<p>If you are more familiar with the NONMEM/rxode2 event records, you can
also specify dosing using <code>et</code> with the dose elements directly:</p>
<div class="sourceCode" id="cb87"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb87-1"><a href="et.html#cb87-1" aria-hidden="true"></a>ev &lt;-<span class="st"> </span><span class="kw">et</span>(<span class="dt">timeUnits=</span><span class="st">&quot;hr&quot;</span>) <span class="op">%&gt;%</span></span>
<span id="cb87-2"><a href="et.html#cb87-2" aria-hidden="true"></a><span class="st">  </span><span class="kw">et</span>(<span class="dt">amt=</span><span class="dv">10000</span>, <span class="dt">until =</span> <span class="kw">set_units</span>(<span class="dv">3</span>, days),</span>
<span id="cb87-3"><a href="et.html#cb87-3" aria-hidden="true"></a>     <span class="dt">ii=</span><span class="dv">12</span>) <span class="co"># loading doses</span></span>
<span id="cb87-4"><a href="et.html#cb87-4" aria-hidden="true"></a></span>
<span id="cb87-5"><a href="et.html#cb87-5" aria-hidden="true"></a>ev</span></code></pre></div>
<pre><code>#&gt; ── EventTable with 1 records ──
#&gt; 1 dosing records (see x$get.dosing(); add with add.dosing
#&gt; or et)
#&gt; 0 observation times (see x$get.sampling(); add with
#&gt; add.sampling or et)
#&gt; multiple doses in `addl` columns, expand with x$expand();
#&gt; or etExpand(x)
#&gt; ── First part of x: ──
#&gt; # A tibble: 1 × 5
#&gt;   time   amt  ii  addl evid        
#&gt;    [h] &lt;dbl&gt; [h] &lt;int&gt; &lt;evid&gt;      
#&gt; 1    0 10000  12     6 1:Dose (Add)</code></pre>
<p>Which gives:</p>
<div class="sourceCode" id="cb89"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb89-1"><a href="et.html#cb89-1" aria-hidden="true"></a><span class="kw">rxSolve</span>(m1, ev) <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">plot</span>(C2)</span></code></pre></div>
<p><img src="rxode2-manual_files/figure-html/unnamed-chunk-77-1.png" width="672" /></p>
<p>This shows how easy creating event tables can be.</p>
</div>
<div id="adding-sampling-to-an-event-table" class="section level2 hasAnchor" number="8.2">
<h2><span class="header-section-number">8.2</span> Adding sampling to an event table<a href="et.html#adding-sampling-to-an-event-table" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>If you notice in the above examples, rxode2 generated some default
sampling times since there was not any sampling times. If you wish
more control over the sampling time, you should add the samples to the
rxode2 event table by <code>add.sampling</code> or <code>et</code></p>
<div class="sourceCode" id="cb90"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb90-1"><a href="et.html#cb90-1" aria-hidden="true"></a>ev &lt;-<span class="st"> </span><span class="kw">eventTable</span>(<span class="dt">amount.units=</span><span class="st">&quot;mg&quot;</span>, <span class="dt">time.units=</span><span class="st">&quot;hr&quot;</span>)</span>
<span id="cb90-2"><a href="et.html#cb90-2" aria-hidden="true"></a></span>
<span id="cb90-3"><a href="et.html#cb90-3" aria-hidden="true"></a><span class="co">## The methods ar attached to the event table, so you can use them</span></span>
<span id="cb90-4"><a href="et.html#cb90-4" aria-hidden="true"></a><span class="co">## directly</span></span>
<span id="cb90-5"><a href="et.html#cb90-5" aria-hidden="true"></a>ev<span class="op">$</span><span class="kw">add.dosing</span>(<span class="dt">dose=</span><span class="dv">10000</span>, <span class="dt">nbr.doses =</span> <span class="dv">3</span>)<span class="co"># loading doses</span></span>
<span id="cb90-6"><a href="et.html#cb90-6" aria-hidden="true"></a></span>
<span id="cb90-7"><a href="et.html#cb90-7" aria-hidden="true"></a>ev<span class="op">$</span><span class="kw">add.sampling</span>(<span class="kw">seq</span>(<span class="dv">0</span>,<span class="dv">24</span>,<span class="dt">by=</span><span class="dv">4</span>))</span>
<span id="cb90-8"><a href="et.html#cb90-8" aria-hidden="true"></a></span>
<span id="cb90-9"><a href="et.html#cb90-9" aria-hidden="true"></a>ev</span></code></pre></div>
<pre><code>#&gt; ── EventTable with 8 records ──
#&gt; 1 dosing records (see x$get.dosing(); add with add.dosing
#&gt; or et)
#&gt; 7 observation times (see x$get.sampling(); add with
#&gt; add.sampling or et)
#&gt; multiple doses in `addl` columns, expand with x$expand();
#&gt; or etExpand(x)
#&gt; ── First part of x: ──
#&gt; # A tibble: 8 × 5
#&gt;   time   amt  ii  addl evid         
#&gt;    [h]  [mg] [h] &lt;int&gt; &lt;evid&gt;       
#&gt; 1    0    NA  NA    NA 0:Observation
#&gt; 2    0 10000  24     2 1:Dose (Add) 
#&gt; 3    4    NA  NA    NA 0:Observation
#&gt; 4    8    NA  NA    NA 0:Observation
#&gt; 5   12    NA  NA    NA 0:Observation
#&gt; 6   16    NA  NA    NA 0:Observation
#&gt; 7   20    NA  NA    NA 0:Observation
#&gt; 8   24    NA  NA    NA 0:Observation</code></pre>
<p>Which gives:</p>
<div class="sourceCode" id="cb92"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb92-1"><a href="et.html#cb92-1" aria-hidden="true"></a><span class="kw">solve</span>(m1, ev) <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">plot</span>(C2)</span></code></pre></div>
<p><img src="rxode2-manual_files/figure-html/unnamed-chunk-79-1.png" width="672" /></p>
<p>Or if you use <code>et</code> you can simply add them in a similar way to <code>add.sampling</code>:</p>
<div class="sourceCode" id="cb93"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb93-1"><a href="et.html#cb93-1" aria-hidden="true"></a>ev &lt;-<span class="st"> </span><span class="kw">et</span>(<span class="dt">timeUnits=</span><span class="st">&quot;hr&quot;</span>) <span class="op">%&gt;%</span></span>
<span id="cb93-2"><a href="et.html#cb93-2" aria-hidden="true"></a><span class="st">  </span><span class="kw">et</span>(<span class="dt">amt=</span><span class="dv">10000</span>, <span class="dt">until =</span> <span class="kw">set_units</span>(<span class="dv">3</span>, days),</span>
<span id="cb93-3"><a href="et.html#cb93-3" aria-hidden="true"></a>     <span class="dt">ii=</span><span class="dv">12</span>) <span class="op">%&gt;%</span><span class="st"> </span><span class="co"># loading doses</span></span>
<span id="cb93-4"><a href="et.html#cb93-4" aria-hidden="true"></a><span class="st">  </span><span class="kw">et</span>(<span class="kw">seq</span>(<span class="dv">0</span>,<span class="dv">24</span>,<span class="dt">by=</span><span class="dv">4</span>))</span>
<span id="cb93-5"><a href="et.html#cb93-5" aria-hidden="true"></a></span>
<span id="cb93-6"><a href="et.html#cb93-6" aria-hidden="true"></a>ev</span></code></pre></div>
<pre><code>#&gt; ── EventTable with 8 records ──
#&gt; 1 dosing records (see x$get.dosing(); add with add.dosing
#&gt; or et)
#&gt; 7 observation times (see x$get.sampling(); add with
#&gt; add.sampling or et)
#&gt; multiple doses in `addl` columns, expand with x$expand();
#&gt; or etExpand(x)
#&gt; ── First part of x: ──
#&gt; # A tibble: 8 × 5
#&gt;   time   amt  ii  addl evid         
#&gt;    [h] &lt;dbl&gt; [h] &lt;int&gt; &lt;evid&gt;       
#&gt; 1    0    NA  NA    NA 0:Observation
#&gt; 2    0 10000  12     6 1:Dose (Add) 
#&gt; 3    4    NA  NA    NA 0:Observation
#&gt; 4    8    NA  NA    NA 0:Observation
#&gt; 5   12    NA  NA    NA 0:Observation
#&gt; 6   16    NA  NA    NA 0:Observation
#&gt; 7   20    NA  NA    NA 0:Observation
#&gt; 8   24    NA  NA    NA 0:Observation</code></pre>
<p>which gives the following rxode2 solve:</p>
<div class="sourceCode" id="cb95"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb95-1"><a href="et.html#cb95-1" aria-hidden="true"></a><span class="kw">solve</span>(m1, ev) <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">plot</span>(C2)</span></code></pre></div>
<p><img src="rxode2-manual_files/figure-html/unnamed-chunk-81-1.png" width="672" /></p>
<p>Note the jagged nature of these plots since there was only a few
sample times.</p>
</div>
<div id="expand-the-event-table-to-a-multi-subject-event-table." class="section level2 hasAnchor" number="8.3">
<h2><span class="header-section-number">8.3</span> Expand the event table to a multi-subject event table.<a href="et.html#expand-the-event-table-to-a-multi-subject-event-table." class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>The only thing that is needed to expand an event table is a list of
IDs that you want to expand;</p>
<div class="sourceCode" id="cb96"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb96-1"><a href="et.html#cb96-1" aria-hidden="true"></a>ev &lt;-<span class="st"> </span><span class="kw">et</span>(<span class="dt">timeUnits=</span><span class="st">&quot;hr&quot;</span>) <span class="op">%&gt;%</span></span>
<span id="cb96-2"><a href="et.html#cb96-2" aria-hidden="true"></a><span class="st">  </span><span class="kw">et</span>(<span class="dt">amt=</span><span class="dv">10000</span>, <span class="dt">until =</span> <span class="kw">set_units</span>(<span class="dv">3</span>, days),</span>
<span id="cb96-3"><a href="et.html#cb96-3" aria-hidden="true"></a>     <span class="dt">ii=</span><span class="dv">12</span>) <span class="op">%&gt;%</span><span class="st"> </span><span class="co"># loading doses</span></span>
<span id="cb96-4"><a href="et.html#cb96-4" aria-hidden="true"></a><span class="st">  </span><span class="kw">et</span>(<span class="kw">seq</span>(<span class="dv">0</span>,<span class="dv">48</span>,<span class="dt">length.out=</span><span class="dv">200</span>)) <span class="op">%&gt;%</span></span>
<span id="cb96-5"><a href="et.html#cb96-5" aria-hidden="true"></a><span class="st">  </span><span class="kw">et</span>(<span class="dt">id=</span><span class="dv">1</span><span class="op">:</span><span class="dv">4</span>)</span>
<span id="cb96-6"><a href="et.html#cb96-6" aria-hidden="true"></a></span>
<span id="cb96-7"><a href="et.html#cb96-7" aria-hidden="true"></a>ev</span></code></pre></div>
<pre><code>#&gt; ── EventTable with 804 records ──
#&gt; 4 dosing records (see x$get.dosing(); add with add.dosing
#&gt; or et)
#&gt; 800 observation times (see x$get.sampling(); add with
#&gt; add.sampling or et)
#&gt; multiple doses in `addl` columns, expand with x$expand();
#&gt; or etExpand(x)
#&gt; ── First part of x: ──
#&gt; # A tibble: 804 × 6
#&gt;       id  time   amt  ii  addl evid         
#&gt;    &lt;int&gt;   [h] &lt;dbl&gt; [h] &lt;int&gt; &lt;evid&gt;       
#&gt;  1     1 0        NA  NA    NA 0:Observation
#&gt;  2     1 0     10000  12     6 1:Dose (Add) 
#&gt;  3     1 0.241    NA  NA    NA 0:Observation
#&gt;  4     1 0.482    NA  NA    NA 0:Observation
#&gt;  5     1 0.724    NA  NA    NA 0:Observation
#&gt;  6     1 0.965    NA  NA    NA 0:Observation
#&gt;  7     1 1.21     NA  NA    NA 0:Observation
#&gt;  8     1 1.45     NA  NA    NA 0:Observation
#&gt;  9     1 1.69     NA  NA    NA 0:Observation
#&gt; 10     1 1.93     NA  NA    NA 0:Observation
#&gt; # … with 794 more rows</code></pre>
<p>You can see in the following simulation there are 4 individuals that are solved for:</p>
<div class="sourceCode" id="cb98"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb98-1"><a href="et.html#cb98-1" aria-hidden="true"></a><span class="kw">set.seed</span>(<span class="dv">42</span>)</span>
<span id="cb98-2"><a href="et.html#cb98-2" aria-hidden="true"></a><span class="kw">rxSetSeed</span>(<span class="dv">42</span>)</span>
<span id="cb98-3"><a href="et.html#cb98-3" aria-hidden="true"></a><span class="kw">solve</span>(m1, ev,</span>
<span id="cb98-4"><a href="et.html#cb98-4" aria-hidden="true"></a>      <span class="dt">params=</span><span class="kw">data.frame</span>(<span class="dt">KA=</span><span class="fl">0.294</span><span class="op">*</span><span class="kw">exp</span>(<span class="kw">rnorm</span>(<span class="dv">4</span>)),</span>
<span id="cb98-5"><a href="et.html#cb98-5" aria-hidden="true"></a>                        <span class="fl">18.6</span><span class="op">*</span><span class="kw">exp</span>(<span class="kw">rnorm</span>(<span class="dv">4</span>)))) <span class="op">%&gt;%</span></span>
<span id="cb98-6"><a href="et.html#cb98-6" aria-hidden="true"></a><span class="st">    </span><span class="kw">plot</span>(C2)</span></code></pre></div>
<p><img src="rxode2-manual_files/figure-html/unnamed-chunk-83-1.png" width="672" /></p>
</div>
<div id="add-doses-and-samples-within-a-sampling-window" class="section level2 hasAnchor" number="8.4">
<h2><span class="header-section-number">8.4</span> Add doses and samples within a sampling window<a href="et.html#add-doses-and-samples-within-a-sampling-window" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>In addition to adding fixed doses and fixed sampling times, you can
have windows where you sample and draw doses from. For dosing windows
you specify the time as an ordered numerical vector with the lowest
dosing time and the highest dosing time inside a list.</p>
<p>In this example, you start with a dosing time with a 6 hour dosing window:</p>
<div class="sourceCode" id="cb99"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb99-1"><a href="et.html#cb99-1" aria-hidden="true"></a><span class="kw">set.seed</span>(<span class="dv">42</span>)</span>
<span id="cb99-2"><a href="et.html#cb99-2" aria-hidden="true"></a><span class="kw">rxSetSeed</span>(<span class="dv">42</span>)</span>
<span id="cb99-3"><a href="et.html#cb99-3" aria-hidden="true"></a>ev &lt;-<span class="st"> </span><span class="kw">et</span>(<span class="dt">timeUnits=</span><span class="st">&quot;hr&quot;</span>) <span class="op">%&gt;%</span></span>
<span id="cb99-4"><a href="et.html#cb99-4" aria-hidden="true"></a><span class="st">  </span><span class="kw">et</span>(<span class="dt">time=</span><span class="kw">list</span>(<span class="kw">c</span>(<span class="dv">0</span>,<span class="dv">6</span>)), <span class="dt">amt=</span><span class="dv">10000</span>, <span class="dt">until =</span> <span class="kw">set_units</span>(<span class="dv">2</span>, days),</span>
<span id="cb99-5"><a href="et.html#cb99-5" aria-hidden="true"></a>     <span class="dt">ii=</span><span class="dv">12</span>) <span class="op">%&gt;%</span><span class="st"> </span><span class="co"># loading doses</span></span>
<span id="cb99-6"><a href="et.html#cb99-6" aria-hidden="true"></a><span class="st">  </span><span class="kw">et</span>(<span class="dt">id=</span><span class="dv">1</span><span class="op">:</span><span class="dv">4</span>)</span>
<span id="cb99-7"><a href="et.html#cb99-7" aria-hidden="true"></a></span>
<span id="cb99-8"><a href="et.html#cb99-8" aria-hidden="true"></a>ev</span></code></pre></div>
<pre><code>#&gt; ── EventTable with 16 records ──
#&gt; 16 dosing records (see x$get.dosing(); add with add.dosing
#&gt; or et)
#&gt; 0 observation times (see x$get.sampling(); add with
#&gt; add.sampling or et)
#&gt; ── First part of x: ──
#&gt; # A tibble: 16 × 6
#&gt;       id low   time high   amt evid        
#&gt;    &lt;int&gt; [h]    [h]  [h] &lt;dbl&gt; &lt;evid&gt;      
#&gt;  1     1   0  5.49     6 10000 1:Dose (Add)
#&gt;  2     1  12 17.0     18 10000 1:Dose (Add)
#&gt;  3     1  24 25.7     30 10000 1:Dose (Add)
#&gt;  4     1  36 41.6     42 10000 1:Dose (Add)
#&gt;  5     2   0  4.31     6 10000 1:Dose (Add)
#&gt;  6     2  12 14.7     18 10000 1:Dose (Add)
#&gt;  7     2  24 28.2     30 10000 1:Dose (Add)
#&gt;  8     2  36 39.9     42 10000 1:Dose (Add)
#&gt;  9     3   0  0.808    6 10000 1:Dose (Add)
#&gt; 10     3  12 16.4     18 10000 1:Dose (Add)
#&gt; 11     3  24 27.1     30 10000 1:Dose (Add)
#&gt; 12     3  36 39.9     42 10000 1:Dose (Add)
#&gt; 13     4   0  4.98     6 10000 1:Dose (Add)
#&gt; 14     4  12 13.7     18 10000 1:Dose (Add)
#&gt; 15     4  24 29.6     30 10000 1:Dose (Add)
#&gt; 16     4  36 41.5     42 10000 1:Dose (Add)</code></pre>
<p>You can clearly see different dosing times in the following simulation:</p>
<div class="sourceCode" id="cb101"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb101-1"><a href="et.html#cb101-1" aria-hidden="true"></a>ev &lt;-<span class="st"> </span>ev <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">et</span>(<span class="kw">seq</span>(<span class="dv">0</span>,<span class="dv">48</span>,<span class="dt">length.out=</span><span class="dv">200</span>))</span>
<span id="cb101-2"><a href="et.html#cb101-2" aria-hidden="true"></a></span>
<span id="cb101-3"><a href="et.html#cb101-3" aria-hidden="true"></a><span class="kw">solve</span>(m1, ev,</span>
<span id="cb101-4"><a href="et.html#cb101-4" aria-hidden="true"></a>      <span class="dt">params=</span><span class="kw">data.frame</span>(<span class="dt">KA=</span><span class="fl">0.294</span><span class="op">*</span><span class="kw">exp</span>(<span class="kw">rnorm</span>(<span class="dv">4</span>)),</span>
<span id="cb101-5"><a href="et.html#cb101-5" aria-hidden="true"></a>                        <span class="fl">18.6</span><span class="op">*</span><span class="kw">exp</span>(<span class="kw">rnorm</span>(<span class="dv">4</span>)))) <span class="op">%&gt;%</span></span>
<span id="cb101-6"><a href="et.html#cb101-6" aria-hidden="true"></a><span class="st">  </span><span class="kw">plot</span>(C2)</span></code></pre></div>
<p><img src="rxode2-manual_files/figure-html/unnamed-chunk-85-1.png" width="672" /></p>
<p>Of course in reality the dosing interval may only be 2 hours:</p>
<div class="sourceCode" id="cb102"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb102-1"><a href="et.html#cb102-1" aria-hidden="true"></a><span class="kw">set.seed</span>(<span class="dv">42</span>)</span>
<span id="cb102-2"><a href="et.html#cb102-2" aria-hidden="true"></a><span class="kw">rxSetSeed</span>(<span class="dv">42</span>)</span>
<span id="cb102-3"><a href="et.html#cb102-3" aria-hidden="true"></a>ev &lt;-<span class="st"> </span><span class="kw">et</span>(<span class="dt">timeUnits=</span><span class="st">&quot;hr&quot;</span>) <span class="op">%&gt;%</span></span>
<span id="cb102-4"><a href="et.html#cb102-4" aria-hidden="true"></a><span class="st">  </span><span class="kw">et</span>(<span class="dt">time=</span><span class="kw">list</span>(<span class="kw">c</span>(<span class="dv">0</span>,<span class="dv">2</span>)), <span class="dt">amt=</span><span class="dv">10000</span>, <span class="dt">until =</span> <span class="kw">set_units</span>(<span class="dv">2</span>, days),</span>
<span id="cb102-5"><a href="et.html#cb102-5" aria-hidden="true"></a>     <span class="dt">ii=</span><span class="dv">12</span>) <span class="op">%&gt;%</span><span class="st"> </span><span class="co"># loading doses</span></span>
<span id="cb102-6"><a href="et.html#cb102-6" aria-hidden="true"></a><span class="st">  </span><span class="kw">et</span>(<span class="dt">id=</span><span class="dv">1</span><span class="op">:</span><span class="dv">4</span>) <span class="op">%&gt;%</span></span>
<span id="cb102-7"><a href="et.html#cb102-7" aria-hidden="true"></a><span class="st">  </span><span class="kw">et</span>(<span class="kw">seq</span>(<span class="dv">0</span>,<span class="dv">48</span>,<span class="dt">length.out=</span><span class="dv">200</span>))</span>
<span id="cb102-8"><a href="et.html#cb102-8" aria-hidden="true"></a></span>
<span id="cb102-9"><a href="et.html#cb102-9" aria-hidden="true"></a><span class="kw">solve</span>(m1, ev,</span>
<span id="cb102-10"><a href="et.html#cb102-10" aria-hidden="true"></a>      <span class="dt">params=</span><span class="kw">data.frame</span>(<span class="dt">KA=</span><span class="fl">0.294</span><span class="op">*</span><span class="kw">exp</span>(<span class="kw">rnorm</span>(<span class="dv">4</span>)),</span>
<span id="cb102-11"><a href="et.html#cb102-11" aria-hidden="true"></a>                        <span class="fl">18.6</span><span class="op">*</span><span class="kw">exp</span>(<span class="kw">rnorm</span>(<span class="dv">4</span>)))) <span class="op">%&gt;%</span></span>
<span id="cb102-12"><a href="et.html#cb102-12" aria-hidden="true"></a><span class="st">  </span><span class="kw">plot</span>(C2)</span></code></pre></div>
<p><img src="rxode2-manual_files/figure-html/unnamed-chunk-86-1.png" width="672" /></p>
<p>The same sort of thing can be specified with sampling times. To
specify the sampling times in terms of a sampling window, you can
create a list of the sampling times. Each sampling time will be a two
element ordered numeric vector.</p>
<div class="sourceCode" id="cb103"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb103-1"><a href="et.html#cb103-1" aria-hidden="true"></a><span class="kw">rxSetSeed</span>(<span class="dv">42</span>)</span>
<span id="cb103-2"><a href="et.html#cb103-2" aria-hidden="true"></a><span class="kw">set.seed</span>(<span class="dv">42</span>)</span>
<span id="cb103-3"><a href="et.html#cb103-3" aria-hidden="true"></a>ev &lt;-<span class="st"> </span><span class="kw">et</span>(<span class="dt">timeUnits=</span><span class="st">&quot;hr&quot;</span>) <span class="op">%&gt;%</span></span>
<span id="cb103-4"><a href="et.html#cb103-4" aria-hidden="true"></a><span class="st">  </span><span class="kw">et</span>(<span class="dt">time=</span><span class="kw">list</span>(<span class="kw">c</span>(<span class="dv">0</span>,<span class="dv">2</span>)), <span class="dt">amt=</span><span class="dv">10000</span>, <span class="dt">until =</span> <span class="kw">set_units</span>(<span class="dv">2</span>, days),</span>
<span id="cb103-5"><a href="et.html#cb103-5" aria-hidden="true"></a>     <span class="dt">ii=</span><span class="dv">12</span>) <span class="op">%&gt;%</span><span class="st"> </span><span class="co"># loading doses</span></span>
<span id="cb103-6"><a href="et.html#cb103-6" aria-hidden="true"></a><span class="st">  </span><span class="kw">et</span>(<span class="dt">id=</span><span class="dv">1</span><span class="op">:</span><span class="dv">4</span>)</span>
<span id="cb103-7"><a href="et.html#cb103-7" aria-hidden="true"></a></span>
<span id="cb103-8"><a href="et.html#cb103-8" aria-hidden="true"></a><span class="co">## Create 20 samples in the first 24 hours and 20 samples in the</span></span>
<span id="cb103-9"><a href="et.html#cb103-9" aria-hidden="true"></a><span class="co">## second 24 hours</span></span>
<span id="cb103-10"><a href="et.html#cb103-10" aria-hidden="true"></a>samples &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="kw">lapply</span>(<span class="dv">1</span><span class="op">:</span><span class="dv">20</span>, <span class="cf">function</span>(...){<span class="kw">c</span>(<span class="dv">0</span>,<span class="dv">24</span>)}),</span>
<span id="cb103-11"><a href="et.html#cb103-11" aria-hidden="true"></a>             <span class="kw">lapply</span>(<span class="dv">1</span><span class="op">:</span><span class="dv">20</span>, <span class="cf">function</span>(...){<span class="kw">c</span>(<span class="dv">20</span>,<span class="dv">48</span>)}))</span>
<span id="cb103-12"><a href="et.html#cb103-12" aria-hidden="true"></a></span>
<span id="cb103-13"><a href="et.html#cb103-13" aria-hidden="true"></a><span class="co">## Add the random collection to the event table</span></span>
<span id="cb103-14"><a href="et.html#cb103-14" aria-hidden="true"></a>ev &lt;-<span class="st"> </span>ev <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">et</span>(samples)</span>
<span id="cb103-15"><a href="et.html#cb103-15" aria-hidden="true"></a></span>
<span id="cb103-16"><a href="et.html#cb103-16" aria-hidden="true"></a><span class="kw">library</span>(ggplot2)</span>
<span id="cb103-17"><a href="et.html#cb103-17" aria-hidden="true"></a><span class="kw">solve</span>(m1, ev, <span class="dt">params=</span><span class="kw">data.frame</span>(<span class="dt">KA=</span><span class="fl">0.294</span><span class="op">*</span><span class="kw">exp</span>(<span class="kw">rnorm</span>(<span class="dv">4</span>)),</span>
<span id="cb103-18"><a href="et.html#cb103-18" aria-hidden="true"></a>                                <span class="fl">18.6</span><span class="op">*</span><span class="kw">exp</span>(<span class="kw">rnorm</span>(<span class="dv">4</span>)))) <span class="op">%&gt;%</span></span>
<span id="cb103-19"><a href="et.html#cb103-19" aria-hidden="true"></a><span class="st">  </span><span class="kw">plot</span>(C2) <span class="op">+</span><span class="st"> </span><span class="kw">geom_point</span>()</span></code></pre></div>
<p><img src="rxode2-manual_files/figure-html/unnamed-chunk-87-1.png" width="672" /></p>
<p>This shows the flexibility in dosing and sampling that the rxode2 event tables allow.</p>
</div>
<div id="combining-event-tables" class="section level2 hasAnchor" number="8.5">
<h2><span class="header-section-number">8.5</span> Combining event tables<a href="et.html#combining-event-tables" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Since you can create dosing records and sampling records, you can
create any complex dosing regimen you wish. In addition, rxode2 allows
you to combine event tables by <code>c</code>, <code>seq</code>, <code>rep</code>, and <code>rbind</code>.</p>
</div>
<div id="sequencing-event-tables" class="section level2 hasAnchor" number="8.6">
<h2><span class="header-section-number">8.6</span> Sequencing event tables<a href="et.html#sequencing-event-tables" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>One way to combine event table is to sequence them by <code>c</code>, <code>seq</code> or
<code>etSeq</code>. This takes the two dosing groups and adds at least one
inter-dose interval between them:</p>
<div class="sourceCode" id="cb104"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb104-1"><a href="et.html#cb104-1" aria-hidden="true"></a><span class="co">## bid for 5 days</span></span>
<span id="cb104-2"><a href="et.html#cb104-2" aria-hidden="true"></a>bid &lt;-<span class="st"> </span><span class="kw">et</span>(<span class="dt">timeUnits=</span><span class="st">&quot;hr&quot;</span>) <span class="op">%&gt;%</span></span>
<span id="cb104-3"><a href="et.html#cb104-3" aria-hidden="true"></a><span class="st">       </span><span class="kw">et</span>(<span class="dt">amt=</span><span class="dv">10000</span>,<span class="dt">ii=</span><span class="dv">12</span>,<span class="dt">until=</span><span class="kw">set_units</span>(<span class="dv">5</span>, <span class="st">&quot;days&quot;</span>))</span>
<span id="cb104-4"><a href="et.html#cb104-4" aria-hidden="true"></a></span>
<span id="cb104-5"><a href="et.html#cb104-5" aria-hidden="true"></a><span class="co">## qd for 5 days</span></span>
<span id="cb104-6"><a href="et.html#cb104-6" aria-hidden="true"></a>qd &lt;-<span class="st"> </span><span class="kw">et</span>(<span class="dt">timeUnits=</span><span class="st">&quot;hr&quot;</span>) <span class="op">%&gt;%</span></span>
<span id="cb104-7"><a href="et.html#cb104-7" aria-hidden="true"></a><span class="st">      </span><span class="kw">et</span>(<span class="dt">amt=</span><span class="dv">20000</span>,<span class="dt">ii=</span><span class="dv">24</span>,<span class="dt">until=</span><span class="kw">set_units</span>(<span class="dv">5</span>, <span class="st">&quot;days&quot;</span>))</span>
<span id="cb104-8"><a href="et.html#cb104-8" aria-hidden="true"></a></span>
<span id="cb104-9"><a href="et.html#cb104-9" aria-hidden="true"></a><span class="co">## bid for 5 days followed by qd for 5 days</span></span>
<span id="cb104-10"><a href="et.html#cb104-10" aria-hidden="true"></a>et &lt;-<span class="st"> </span><span class="kw">seq</span>(bid,qd) <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">et</span>(<span class="kw">seq</span>(<span class="dv">0</span>,<span class="dv">11</span><span class="op">*</span><span class="dv">24</span>,<span class="dt">length.out=</span><span class="dv">100</span>));</span>
<span id="cb104-11"><a href="et.html#cb104-11" aria-hidden="true"></a></span>
<span id="cb104-12"><a href="et.html#cb104-12" aria-hidden="true"></a><span class="kw">rxSolve</span>(m1, et) <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">plot</span>(C2)</span></code></pre></div>
<p><img src="rxode2-manual_files/figure-html/unnamed-chunk-88-1.png" width="672" /></p>
<p>When sequencing events, you can also separate this sequence by a
period of time; For example if you wanted to separate this by a week,
you could easily do that with the following sequence of event tables:</p>
<div class="sourceCode" id="cb105"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb105-1"><a href="et.html#cb105-1" aria-hidden="true"></a><span class="co">## bid for 5 days followed by qd for 5 days</span></span>
<span id="cb105-2"><a href="et.html#cb105-2" aria-hidden="true"></a>et &lt;-<span class="st"> </span><span class="kw">seq</span>(bid,<span class="kw">set_units</span>(<span class="dv">1</span>, <span class="st">&quot;week&quot;</span>), qd) <span class="op">%&gt;%</span></span>
<span id="cb105-3"><a href="et.html#cb105-3" aria-hidden="true"></a><span class="st">    </span><span class="kw">et</span>(<span class="kw">seq</span>(<span class="dv">0</span>,<span class="dv">18</span><span class="op">*</span><span class="dv">24</span>,<span class="dt">length.out=</span><span class="dv">100</span>));</span>
<span id="cb105-4"><a href="et.html#cb105-4" aria-hidden="true"></a></span>
<span id="cb105-5"><a href="et.html#cb105-5" aria-hidden="true"></a><span class="kw">rxSolve</span>(m1, et) <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">plot</span>(C2)</span></code></pre></div>
<p><img src="rxode2-manual_files/figure-html/unnamed-chunk-89-1.png" width="672" /></p>
<p>Note that in this example the time between the bid and the qd event
tables is exactly one week, not 1 week plus 24 hours because of the
inter-dose interval. If you want that behavior, you can sequence it
using the <code>wait="+ii"</code>.</p>
<div class="sourceCode" id="cb106"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb106-1"><a href="et.html#cb106-1" aria-hidden="true"></a><span class="co">## bid for 5 days followed by qd for 5 days</span></span>
<span id="cb106-2"><a href="et.html#cb106-2" aria-hidden="true"></a>et &lt;-<span class="st"> </span><span class="kw">seq</span>(bid,<span class="kw">set_units</span>(<span class="dv">1</span>, <span class="st">&quot;week&quot;</span>), qd,<span class="dt">wait=</span><span class="st">&quot;+ii&quot;</span>) <span class="op">%&gt;%</span></span>
<span id="cb106-3"><a href="et.html#cb106-3" aria-hidden="true"></a><span class="st">    </span><span class="kw">et</span>(<span class="kw">seq</span>(<span class="dv">0</span>,<span class="dv">18</span><span class="op">*</span><span class="dv">24</span>,<span class="dt">length.out=</span><span class="dv">100</span>));</span>
<span id="cb106-4"><a href="et.html#cb106-4" aria-hidden="true"></a></span>
<span id="cb106-5"><a href="et.html#cb106-5" aria-hidden="true"></a><span class="kw">rxSolve</span>(m1, et) <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">plot</span>(C2)</span></code></pre></div>
<p><img src="rxode2-manual_files/figure-html/unnamed-chunk-90-1.png" width="672" /></p>
<p>Also note, that rxode2 assumes that the dosing is what you want to
space the event tables by, and clears out any sampling records when
you combine the event tables. If that is not true, you can also use
the option <code>samples="use"</code></p>
</div>
<div id="repeating-event-tables" class="section level2 hasAnchor" number="8.7">
<h2><span class="header-section-number">8.7</span> Repeating event tables<a href="et.html#repeating-event-tables" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>You can have an event table that you can repeat with <code>etRep</code> or <code>rep</code>.
For example 4 rounds of 2 weeks on QD therapy and 1 week off of
therapy can be simply specified:</p>
<div class="sourceCode" id="cb107"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb107-1"><a href="et.html#cb107-1" aria-hidden="true"></a>qd &lt;-<span class="kw">et</span>(<span class="dt">timeUnits =</span> <span class="st">&quot;hr&quot;</span>) <span class="op">%&gt;%</span></span>
<span id="cb107-2"><a href="et.html#cb107-2" aria-hidden="true"></a><span class="st">  </span><span class="kw">et</span>(<span class="dt">amt=</span><span class="dv">10000</span>, <span class="dt">ii=</span><span class="dv">24</span>, <span class="dt">until=</span><span class="kw">set_units</span>(<span class="dv">2</span>, <span class="st">&quot;weeks&quot;</span>), <span class="dt">cmt=</span><span class="st">&quot;depot&quot;</span>)</span>
<span id="cb107-3"><a href="et.html#cb107-3" aria-hidden="true"></a></span>
<span id="cb107-4"><a href="et.html#cb107-4" aria-hidden="true"></a>et &lt;-<span class="st"> </span><span class="kw">rep</span>(qd, <span class="dt">times=</span><span class="dv">4</span>, <span class="dt">wait=</span><span class="kw">set_units</span>(<span class="dv">1</span>,<span class="st">&quot;weeks&quot;</span>)) <span class="op">%&gt;%</span></span>
<span id="cb107-5"><a href="et.html#cb107-5" aria-hidden="true"></a><span class="st">      </span><span class="kw">add.sampling</span>(<span class="kw">set_units</span>(<span class="kw">seq</span>(<span class="dv">0</span>, <span class="fl">12.5</span>,<span class="dt">by=</span><span class="fl">0.005</span>),weeks))</span>
<span id="cb107-6"><a href="et.html#cb107-6" aria-hidden="true"></a></span>
<span id="cb107-7"><a href="et.html#cb107-7" aria-hidden="true"></a><span class="kw">rxSolve</span>(m1, et)  <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">plot</span>(C2)</span></code></pre></div>
<p><img src="rxode2-manual_files/figure-html/unnamed-chunk-91-1.png" width="672" /></p>
<p>This is a simplified way to use a sequence of event tables.
Therefore, many of the same options still apply; That is <code>samples</code> are
cleared unless you use <code>samples="use"</code>, and the time between event
tables is at least the inter-dose interval. You can adjust the timing
by the <code>wait</code> option.</p>
</div>
<div id="combining-event-tables-with-rbind" class="section level2 hasAnchor" number="8.8">
<h2><span class="header-section-number">8.8</span> Combining event tables with rbind<a href="et.html#combining-event-tables-with-rbind" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>You may combine event tables with <code>rbind</code>. This does not consider the
event times when combining the event tables, but keeps them the same
times. If you space the event tables by a waiting period, it also does
not consider the inter-dose interval.</p>
<p>Using the previous <code>seq</code> you can clearly see the difference. Here was the sequence:</p>
<div class="sourceCode" id="cb108"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb108-1"><a href="et.html#cb108-1" aria-hidden="true"></a><span class="co">## bid for 5 days</span></span>
<span id="cb108-2"><a href="et.html#cb108-2" aria-hidden="true"></a>bid &lt;-<span class="st"> </span><span class="kw">et</span>(<span class="dt">timeUnits=</span><span class="st">&quot;hr&quot;</span>) <span class="op">%&gt;%</span></span>
<span id="cb108-3"><a href="et.html#cb108-3" aria-hidden="true"></a><span class="st">       </span><span class="kw">et</span>(<span class="dt">amt=</span><span class="dv">10000</span>,<span class="dt">ii=</span><span class="dv">12</span>,<span class="dt">until=</span><span class="kw">set_units</span>(<span class="dv">5</span>, <span class="st">&quot;days&quot;</span>))</span>
<span id="cb108-4"><a href="et.html#cb108-4" aria-hidden="true"></a></span>
<span id="cb108-5"><a href="et.html#cb108-5" aria-hidden="true"></a><span class="co">## qd for 5 days</span></span>
<span id="cb108-6"><a href="et.html#cb108-6" aria-hidden="true"></a>qd &lt;-<span class="st"> </span><span class="kw">et</span>(<span class="dt">timeUnits=</span><span class="st">&quot;hr&quot;</span>) <span class="op">%&gt;%</span></span>
<span id="cb108-7"><a href="et.html#cb108-7" aria-hidden="true"></a><span class="st">      </span><span class="kw">et</span>(<span class="dt">amt=</span><span class="dv">20000</span>,<span class="dt">ii=</span><span class="dv">24</span>,<span class="dt">until=</span><span class="kw">set_units</span>(<span class="dv">5</span>, <span class="st">&quot;days&quot;</span>))</span>
<span id="cb108-8"><a href="et.html#cb108-8" aria-hidden="true"></a></span>
<span id="cb108-9"><a href="et.html#cb108-9" aria-hidden="true"></a>et &lt;-<span class="st"> </span><span class="kw">seq</span>(bid,qd) <span class="op">%&gt;%</span></span>
<span id="cb108-10"><a href="et.html#cb108-10" aria-hidden="true"></a><span class="st">    </span><span class="kw">et</span>(<span class="kw">seq</span>(<span class="dv">0</span>,<span class="dv">18</span><span class="op">*</span><span class="dv">24</span>,<span class="dt">length.out=</span><span class="dv">500</span>));</span>
<span id="cb108-11"><a href="et.html#cb108-11" aria-hidden="true"></a></span>
<span id="cb108-12"><a href="et.html#cb108-12" aria-hidden="true"></a><span class="kw">rxSolve</span>(m1, et) <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">plot</span>(C2)</span></code></pre></div>
<p><img src="rxode2-manual_files/figure-html/unnamed-chunk-92-1.png" width="672" /></p>
<p>But if you bind them together with <code>rbind</code></p>
<div class="sourceCode" id="cb109"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb109-1"><a href="et.html#cb109-1" aria-hidden="true"></a><span class="co">## bid for 5 days</span></span>
<span id="cb109-2"><a href="et.html#cb109-2" aria-hidden="true"></a>et &lt;-<span class="st"> </span><span class="kw">rbind</span>(bid,qd) <span class="op">%&gt;%</span></span>
<span id="cb109-3"><a href="et.html#cb109-3" aria-hidden="true"></a><span class="st">    </span><span class="kw">et</span>(<span class="kw">seq</span>(<span class="dv">0</span>,<span class="dv">18</span><span class="op">*</span><span class="dv">24</span>,<span class="dt">length.out=</span><span class="dv">500</span>));</span>
<span id="cb109-4"><a href="et.html#cb109-4" aria-hidden="true"></a></span>
<span id="cb109-5"><a href="et.html#cb109-5" aria-hidden="true"></a><span class="kw">rxSolve</span>(m1, et) <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">plot</span>(C2)</span></code></pre></div>
<p><img src="rxode2-manual_files/figure-html/unnamed-chunk-93-1.png" width="672" /></p>
<p>Still the waiting period applies (but does not consider the inter-dose interval)</p>
<div class="sourceCode" id="cb110"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb110-1"><a href="et.html#cb110-1" aria-hidden="true"></a>et &lt;-<span class="st"> </span><span class="kw">rbind</span>(bid,<span class="dt">wait=</span><span class="kw">set_units</span>(<span class="dv">10</span>,days),qd) <span class="op">%&gt;%</span></span>
<span id="cb110-2"><a href="et.html#cb110-2" aria-hidden="true"></a><span class="st">    </span><span class="kw">et</span>(<span class="kw">seq</span>(<span class="dv">0</span>,<span class="dv">18</span><span class="op">*</span><span class="dv">24</span>,<span class="dt">length.out=</span><span class="dv">500</span>));</span>
<span id="cb110-3"><a href="et.html#cb110-3" aria-hidden="true"></a></span>
<span id="cb110-4"><a href="et.html#cb110-4" aria-hidden="true"></a><span class="kw">rxSolve</span>(m1, et) <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">plot</span>(C2)</span></code></pre></div>
<p><img src="rxode2-manual_files/figure-html/unnamed-chunk-94-1.png" width="672" /></p>
<p>You can also bind the tables together and make each ID in the event
table unique; This can be good to combine cohorts with different
expected dosing and sampling times. This requires the <code>id="unique"</code>
option; Using the first example shows how this is different in this case:</p>
<div class="sourceCode" id="cb111"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb111-1"><a href="et.html#cb111-1" aria-hidden="true"></a><span class="co">## bid for 5 days</span></span>
<span id="cb111-2"><a href="et.html#cb111-2" aria-hidden="true"></a>et &lt;-<span class="st"> </span><span class="kw">etRbind</span>(bid,qd, <span class="dt">id=</span><span class="st">&quot;unique&quot;</span>) <span class="op">%&gt;%</span></span>
<span id="cb111-3"><a href="et.html#cb111-3" aria-hidden="true"></a><span class="st">    </span><span class="kw">et</span>(<span class="kw">seq</span>(<span class="dv">0</span>,<span class="dv">150</span>,<span class="dt">length.out=</span><span class="dv">500</span>));</span>
<span id="cb111-4"><a href="et.html#cb111-4" aria-hidden="true"></a></span>
<span id="cb111-5"><a href="et.html#cb111-5" aria-hidden="true"></a><span class="kw">library</span>(ggplot2)</span>
<span id="cb111-6"><a href="et.html#cb111-6" aria-hidden="true"></a><span class="kw">rxSolve</span>(m1, et) <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">plot</span>(C2) <span class="op">+</span><span class="st"> </span><span class="kw">facet_wrap</span>( <span class="op">~</span><span class="st"> </span>id)</span></code></pre></div>
<p><img src="rxode2-manual_files/figure-html/unnamed-chunk-95-1.png" width="672" /></p>
</div>
<div id="expanding-events" class="section level2 hasAnchor" number="8.9">
<h2><span class="header-section-number">8.9</span> Expanding events<a href="et.html#expanding-events" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Event tables can be expanded so they contain an <code>addl</code> data item, like
the following example:</p>
<div class="sourceCode" id="cb112"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb112-1"><a href="et.html#cb112-1" aria-hidden="true"></a>ev &lt;-<span class="st"> </span><span class="kw">et</span>() <span class="op">%&gt;%</span></span>
<span id="cb112-2"><a href="et.html#cb112-2" aria-hidden="true"></a><span class="st">  </span><span class="kw">et</span>(<span class="dt">dose=</span><span class="dv">50</span>, <span class="dt">ii=</span><span class="dv">8</span>, <span class="dt">until=</span><span class="dv">48</span>)</span>
<span id="cb112-3"><a href="et.html#cb112-3" aria-hidden="true"></a></span>
<span id="cb112-4"><a href="et.html#cb112-4" aria-hidden="true"></a>ev</span></code></pre></div>
<pre><code>#&gt; ── EventTable with 1 records ──
#&gt; 1 dosing records (see x$get.dosing(); add with add.dosing
#&gt; or et)
#&gt; 0 observation times (see x$get.sampling(); add with
#&gt; add.sampling or et)
#&gt; multiple doses in `addl` columns, expand with x$expand();
#&gt; or etExpand(x)
#&gt; ── First part of x: ──
#&gt; # A tibble: 1 × 5
#&gt;    time   amt    ii  addl evid        
#&gt;   &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;int&gt; &lt;evid&gt;      
#&gt; 1     0    50     8     6 1:Dose (Add)</code></pre>
<p>You can expand the events so they do not have the <code>addl</code> items by
<code>$expand()</code> or <code>etExpand(ev)</code>:</p>
<p>The first, <code>etExpand(ev)</code> expands the event table without modifying the original data frame:</p>
<div class="sourceCode" id="cb114"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb114-1"><a href="et.html#cb114-1" aria-hidden="true"></a><span class="kw">etExpand</span>(ev)</span></code></pre></div>
<pre><code>#&gt; ── EventTable with 7 records ──
#&gt; 7 dosing records (see x$get.dosing(); add with add.dosing
#&gt; or et)
#&gt; 0 observation times (see x$get.sampling(); add with
#&gt; add.sampling or et)
#&gt; ── First part of x: ──
#&gt; # A tibble: 7 × 4
#&gt;    time   amt    ii evid        
#&gt;   &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;evid&gt;      
#&gt; 1     0    50     0 1:Dose (Add)
#&gt; 2     8    50     0 1:Dose (Add)
#&gt; 3    16    50     0 1:Dose (Add)
#&gt; 4    24    50     0 1:Dose (Add)
#&gt; 5    32    50     0 1:Dose (Add)
#&gt; 6    40    50     0 1:Dose (Add)
#&gt; 7    48    50     0 1:Dose (Add)</code></pre>
<p>You can see the <code>addl</code> events were expanded, however the original data
frame remained intact:</p>
<div class="sourceCode" id="cb116"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb116-1"><a href="et.html#cb116-1" aria-hidden="true"></a><span class="kw">print</span>(ev)</span></code></pre></div>
<pre><code>#&gt; ── EventTable with 1 records ──
#&gt; 1 dosing records (see $get.dosing(); add with add.dosing or
#&gt; et)
#&gt; 0 observation times (see $get.sampling(); add with
#&gt; add.sampling or et)
#&gt; multiple doses in `addl` columns, expand with $expand(); or
#&gt; etExpand()
#&gt; ── First part of : ──
#&gt; # A tibble: 1 × 5
#&gt;    time   amt    ii  addl evid        
#&gt;   &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;int&gt; &lt;evid&gt;      
#&gt; 1     0    50     8     6 1:Dose (Add)</code></pre>
<p>If you use <code>ev$expand()</code> it will modify the <code>ev</code> object. This is
similar to an object-oriented method:</p>
<div class="sourceCode" id="cb118"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb118-1"><a href="et.html#cb118-1" aria-hidden="true"></a>ev<span class="op">$</span><span class="kw">expand</span>()</span>
<span id="cb118-2"><a href="et.html#cb118-2" aria-hidden="true"></a>ev</span></code></pre></div>
<pre><code>#&gt; ── EventTable with 7 records ──
#&gt; 7 dosing records (see x$get.dosing(); add with add.dosing
#&gt; or et)
#&gt; 0 observation times (see x$get.sampling(); add with
#&gt; add.sampling or et)
#&gt; ── First part of x: ──
#&gt; # A tibble: 7 × 4
#&gt;    time   amt    ii evid        
#&gt;   &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;evid&gt;      
#&gt; 1     0    50     0 1:Dose (Add)
#&gt; 2     8    50     0 1:Dose (Add)
#&gt; 3    16    50     0 1:Dose (Add)
#&gt; 4    24    50     0 1:Dose (Add)
#&gt; 5    32    50     0 1:Dose (Add)
#&gt; 6    40    50     0 1:Dose (Add)
#&gt; 7    48    50     0 1:Dose (Add)</code></pre>
</div>
<div id="event-tables-in-rstudio-notebooks" class="section level2 hasAnchor" number="8.10">
<h2><span class="header-section-number">8.10</span> Event tables in Rstudio Notebooks<a href="et.html#event-tables-in-rstudio-notebooks" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>In addition to the output in the console which has been shown in the above examples, Rstudio notebook output is different and can be seen in the following screenshots;</p>
<p>The first screenshot shows how the event table looks after evaluating
it in the Rstduio notebook</p>
<p><img src="eventTable-output-notebook-02.png" /></p>
<p>This is a simple dataframe that allows you to page through the
contents. If you click on the first box in the Rstudio notebook
output, it will have the notes about the event table:</p>
<p><img src="eventTable-output-notebook-01.png" /></p>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="events.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="solve.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": null,
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["rxode2-manual.pdf"],
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "subsection"
},
"toolbar": {
"position": "fixed"
}
});
});
</script>

</body>

</html>
